<div class="container">
  <h3>
    <img
      width="30"
      alt="Create Auction"
      src="assets/images/createauction.png"
    />
    &nbsp;Create Auction
  </h3>
  <hr />
  <p>
    <alert></alert>
  </p>

  <form #f="ngForm" class="row g-3" (ngSubmit)="createAuction(); f.resetForm();">
    <div class="form-group">
      <label for="name">Auction Name</label>
      <input
        type="text"
        [(ngModel)]="auction.name"
        name="name"
        class="form-control"
        id="name"
        required
        #name="ngModel"
      />

      <div
        *ngIf="name.invalid && name.touched"
        class="alert alert-danger"
      >
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="description">Describe something about this auction...</label>
      <textarea
        [(ngModel)]="auction.description"
        name="description"
        class="form-control"
        rows="3"
        cols="60"
        id="description"
        required
        #description="ngModel"
      ></textarea>
      <div
        *ngIf="description.invalid && description.touched"
        class="alert alert-danger"
      >
        Description is required
      </div>
    </div>

    <div class="form-group">
      <label for="startingPrice">Starting Bid Value (in USD)</label>
      <input
        [(ngModel)]="auction.startingPrice"
        type="text"
        class="form-control"
        name="startingPrice"
        id="startingPrice"
        required
        #startingPrice="ngModel"
      />
      <div
        *ngIf="
          startingPrice.invalid &&
          (startingPrice.dirty || startingPrice.touched)
        "
        class="alert alert-danger"
      >
        Starting Price is required
      </div>
    </div>

    <div class="form-group">
      <label for="activeInHours">Active for (in Hours)</label>
      <input
        [(ngModel)]="auction.activeInHours"
        type="text"
        class="form-control"
        name="activeInHours"
        id="activeInHours"
        required
        #activeInHours="ngModel"
      />
      <div
        *ngIf="
          activeInHours.invalid &&
          (activeInHours.dirty || activeInHours.touched)
        "
        class="alert alert-danger"
      >
        Active for (in Hours) is required
      </div>
    </div>

    <!--   <div class="form-group">
       <image-component (fileUploadedEvent)="receiveImageEventHandler($event)" ></image-component>
     </div>
-->
    <div class="btn-toolbar">
      <button
        *ngIf="!loadingAuction"
        type="submit"
        class="btn btn-primary"
        [disabled]="!f.valid"
      >
        Save
      </button>
    </div>
    <div class="d-flex justify-content-center">
      <div
        class="spinner-border text-secondary"
        style="width: 3rem; height: 3rem"
        role="status"
        *ngIf="loadingAuction"
      >
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </form>
</div>
